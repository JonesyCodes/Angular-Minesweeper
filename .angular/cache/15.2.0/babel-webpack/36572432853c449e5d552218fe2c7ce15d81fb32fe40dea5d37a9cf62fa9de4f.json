{"ast":null,"code":"import { ViewContainerRef } from '@angular/core';\nimport { GameStatusComponent } from '../game-status/game-status.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../options/options.component\";\nconst _c0 = [\"placeholder\"];\nfunction GameComponent_ng_template_24_Template(rf, ctx) {}\nexport class GameComponent {\n  constructor(resolver, injector) {\n    this.resolver = resolver;\n    this.injector = injector;\n    this.title = 'Game';\n    this.gameOptions = {\n      mineCount: 3,\n      rowCount: 5,\n      columnCount: 5\n    };\n  }\n  ngOnInit() {\n    this.newGameInstance();\n    this.displayMessage('Welcome to Angular Minesweeper!');\n  }\n  //// Creates a new instance of the GameStatusComponent\n  newGameInstance() {\n    this.placeholder.detach();\n    const componentFactory = this.resolver.resolveComponentFactory(GameStatusComponent);\n    const component = componentFactory.create(this.injector);\n    this.placeholder.insert(component.hostView);\n    component.instance.mineCount = this.gameOptions.mineCount;\n    component.instance.columnCount = this.gameOptions.columnCount;\n    component.instance.rowCount = this.gameOptions.rowCount;\n    component.instance.gameMessage.subscribe(message => {\n      this.displayMessage(message);\n    });\n  }\n  //// Sets gameOptions property \n  setOptions(data) {\n    this.gameOptions = data;\n    this.newGameInstance();\n  }\n  //// Adds new message to Html \n  displayMessage(message) {\n    let messageBox = document.getElementById('message');\n    let dateTime = new Date();\n    messageBox.insertAdjacentHTML(\"afterbegin\", `<b>${dateTime.toLocaleTimeString()}</b>&emsp;${message}<br/>`);\n  }\n  //// Clears all messages\n  clearMessages() {\n    let messageBox = document.getElementById('message');\n    messageBox.innerHTML = \"\";\n  }\n}\nGameComponent.ɵfac = function GameComponent_Factory(t) {\n  return new (t || GameComponent)(i0.ɵɵdirectiveInject(i0.ComponentFactoryResolver), i0.ɵɵdirectiveInject(i0.Injector));\n};\nGameComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GameComponent,\n  selectors: [[\"app-game\"]],\n  viewQuery: function GameComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7, ViewContainerRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.placeholder = _t.first);\n    }\n  },\n  decls: 26,\n  vars: 1,\n  consts: [[1, \"container\", \"w-100\"], [1, \"row\", \"w-100\"], [1, \"col-xl-4\", \"p-0\"], [1, \"gameBar\"], [1, \"borderLegend\", \"px-3\"], [1, \"bi\", \"bi-gear-fill\"], [1, \"h-100\"], [3, \"data\", \"optionsChangedEvent\"], [1, \"col-xl-8\", \"p-0\"], [1, \"bi\", \"bi-chat-right-text-fill\"], [\"id\", \"message\"], [\"id\", \"clearMessages\", 1, \"btn\", \"btn-primary\", \"mt-auto\", 3, \"click\"], [1, \"bi\", \"bi-trash3\"], [1, \"col\", \"p-0\"], [1, \"bi\", \"bi-exclamation-triangle-fill\"], [\"id\", \"gameGrid\"], [\"placeholder\", \"\"]],\n  template: function GameComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"fieldset\", 3)(4, \"legend\", 4);\n      i0.ɵɵelement(5, \"i\", 5);\n      i0.ɵɵtext(6, \" Game Options \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"app-options\", 7);\n      i0.ɵɵlistener(\"optionsChangedEvent\", function GameComponent_Template_app_options_optionsChangedEvent_8_listener($event) {\n        return ctx.setOptions($event);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"fieldset\", 3)(11, \"legend\", 4);\n      i0.ɵɵelement(12, \"i\", 9);\n      i0.ɵɵtext(13, \" Messages \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"div\", 10);\n      i0.ɵɵelementStart(15, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function GameComponent_Template_button_click_15_listener() {\n        return ctx.clearMessages();\n      });\n      i0.ɵɵtext(16, \"Clear\\u00A0\");\n      i0.ɵɵelement(17, \"i\", 12);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(18, \"div\", 1)(19, \"div\", 13)(20, \"fieldset\", 3)(21, \"legend\", 4);\n      i0.ɵɵelement(22, \"i\", 14);\n      i0.ɵɵtext(23, \" Danger Zone \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(24, GameComponent_ng_template_24_Template, 0, 0, \"ng-template\", 15, 16, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"data\", ctx.gameOptions);\n    }\n  },\n  dependencies: [i1.OptionsComponent],\n  styles: [\".gameBar[_ngcontent-%COMP%]{border:2px none gray;border-radius:20px;background-color:#021f59d9;margin:1vw;padding:2vh;height:100%;display:flex;flex-direction:column;max-width:95vw}.borderLegend[_ngcontent-%COMP%]{float:none;width:auto;text-align:left;font-weight:600}#message[_ngcontent-%COMP%]{display:flow-root;text-align:left;line-height:1.5;min-height:80%;height:16vh;overflow-y:auto;position:relative;bottom:0}#clearMessages[_ngcontent-%COMP%]{display:flex;align-self:flex-end}.row[_ngcontent-%COMP%]{margin:1vw 0}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}