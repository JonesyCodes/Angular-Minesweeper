{"ast":null,"code":"import { ViewContainerRef } from '@angular/core';\nimport { GameStatusComponent } from '../game-status/game-status.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../options/options.component\";\nconst _c0 = [\"placeholder\"];\nfunction GameComponent_ng_template_3_Template(rf, ctx) {}\nexport class GameComponent {\n  constructor(resolver, injector) {\n    this.resolver = resolver;\n    this.injector = injector;\n    this.title = 'Game';\n    this.gameOptions = {\n      mineCount: 3,\n      rowCount: 5,\n      columnCount: 5\n    };\n  }\n  ngOnInit() {\n    this.newGameInstance();\n  }\n  newGameInstance() {\n    this.placeholder.detach();\n    const componentFactory = this.resolver.resolveComponentFactory(GameStatusComponent);\n    const component = componentFactory.create(this.injector);\n    this.placeholder.insert(component.hostView);\n    component.instance.mineCount = this.gameOptions.mineCount;\n    component.instance.columnCount = this.gameOptions.columnCount;\n    component.instance.rowCount = this.gameOptions.rowCount;\n  }\n  setOptions(data) {\n    this.gameOptions = data;\n    this.newGameInstance();\n  }\n}\nGameComponent.ɵfac = function GameComponent_Factory(t) {\n  return new (t || GameComponent)(i0.ɵɵdirectiveInject(i0.ComponentFactoryResolver), i0.ɵɵdirectiveInject(i0.Injector));\n};\nGameComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GameComponent,\n  selectors: [[\"app-game\"]],\n  viewQuery: function GameComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7, ViewContainerRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.placeholder = _t.first);\n    }\n  },\n  decls: 5,\n  vars: 1,\n  consts: [[1, \"rounded-pill\"], [3, \"data\", \"optionsChangedEvent\"], [1, \"gameBar\"], [\"id\", \"gameGrid\"], [\"placeholder\", \"\"]],\n  template: function GameComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"app-options\", 1);\n      i0.ɵɵlistener(\"optionsChangedEvent\", function GameComponent_Template_app_options_optionsChangedEvent_1_listener($event) {\n        return ctx.setOptions($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵtemplate(3, GameComponent_ng_template_3_Template, 0, 0, \"ng-template\", 3, 4, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"data\", ctx.gameOptions);\n    }\n  },\n  dependencies: [i1.OptionsComponent],\n  styles: [\".gameBar[_ngcontent-%COMP%] {\\r\\n  border: 2px inset gray;\\r\\n  border-radius: 20px;\\r\\n  background-color: lightgray;\\r\\n  margin: 2vh;\\r\\n  padding: 2vh;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ2FtZS9nYW1lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLDJCQUEyQjtFQUMzQixXQUFXO0VBQ1gsWUFBWTtBQUNkIiwic291cmNlc0NvbnRlbnQiOlsiLmdhbWVCYXIge1xyXG4gIGJvcmRlcjogMnB4IGluc2V0IGdyYXk7XHJcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyYXk7XHJcbiAgbWFyZ2luOiAydmg7XHJcbiAgcGFkZGluZzogMnZoO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AAAA,SAA+BA,gBAAgB,QAA4C,eAAe;AAC1G,SAASC,mBAAmB,QAAQ,sCAAsC;;;;;AAQ1E,OAAM,MAAOC,aAAa;EAWxBC,YAAoBC,QAAkC,EAAUC,QAAkB;IAA9D,aAAQ,GAARD,QAAQ;IAAoC,aAAQ,GAARC,QAAQ;IAVxE,UAAK,GAAG,MAAM;IAEd,gBAAW,GAAoB;MAC7BC,SAAS,EAAE,CAAC;MACZC,QAAQ,EAAE,CAAC;MACXC,WAAW,EAAE;KACd;EAIqF;EAEtFC,QAAQ;IACN,IAAI,CAACC,eAAe,EAAE;EACxB;EAEAA,eAAe;IACb,IAAI,CAACC,WAAW,CAACC,MAAM,EAAE;IACzB,MAAMC,gBAAgB,GAAG,IAAI,CAACT,QAAQ,CAACU,uBAAuB,CAACb,mBAAmB,CAAC;IACnF,MAAMc,SAAS,GAAGF,gBAAgB,CAACG,MAAM,CAAC,IAAI,CAACX,QAAQ,CAAC;IACxD,IAAI,CAACM,WAAW,CAACM,MAAM,CAACF,SAAS,CAACG,QAAQ,CAAC;IAE3CH,SAAS,CAACI,QAAQ,CAACb,SAAS,GAAG,IAAI,CAACc,WAAW,CAACd,SAAS;IACzDS,SAAS,CAACI,QAAQ,CAACX,WAAW,GAAG,IAAI,CAACY,WAAW,CAACZ,WAAW;IAC7DO,SAAS,CAACI,QAAQ,CAACZ,QAAQ,GAAG,IAAI,CAACa,WAAW,CAACb,QAAQ;EACzD;EAEAc,UAAU,CAACC,IAAqB;IAC9B,IAAI,CAACF,WAAW,GAAGE,IAAI;IAEvB,IAAI,CAACZ,eAAe,EAAE;EACxB;;AAhCWR,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAqB;EAAAC;IAAA;6BASUxB,gBAAgB;;;;;;;;;;;;MClBpDyB,8BAA0B;MACUA;QAAA,OAAuBC,sBAAkB;MAAA,EAAC;MAACD,iBAAc;MAG7FA,8BAAqB;MACnBA,4GAAsD;MACxDA,iBAAM;;;MALSA,eAAoB;MAApBA,sCAAoB","names":["ViewContainerRef","GameStatusComponent","GameComponent","constructor","resolver","injector","mineCount","rowCount","columnCount","ngOnInit","newGameInstance","placeholder","detach","componentFactory","resolveComponentFactory","component","create","insert","hostView","instance","gameOptions","setOptions","data","selectors","viewQuery","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\ReactTraining\\Workspaces\\P082 - Angular\\Minesweeper\\src\\app\\game\\game.component.ts","C:\\Users\\ReactTraining\\Workspaces\\P082 - Angular\\Minesweeper\\src\\app\\game\\game.component.html"],"sourcesContent":["import { Component, ViewChild, ViewContainerRef, ComponentFactoryResolver, Injector } from '@angular/core';\nimport { GameStatusComponent } from '../game-status/game-status.component';\r\nimport { GameOptionsData } from '../game-options-data';\r\n\n@Component({\n  selector: 'app-game',\n  templateUrl: './game.component.html',\n  styleUrls: ['./game.component.css']\n})\nexport class GameComponent {\n  title = 'Game'\n\n  gameOptions: GameOptionsData = {\n    mineCount: 3,\r\n    rowCount: 5,\r\n    columnCount: 5\r\n  }\n\n  @ViewChild('placeholder', { read: ViewContainerRef, static: true })\r\n  public placeholder!: ViewContainerRef;\r\n  constructor(private resolver: ComponentFactoryResolver, private injector: Injector) { }\n\n  ngOnInit() {\n    this.newGameInstance();\r\n  }\n\n  newGameInstance() {\r\n    this.placeholder.detach();\r\n    const componentFactory = this.resolver.resolveComponentFactory(GameStatusComponent);\r\n    const component = componentFactory.create(this.injector);\r\n    this.placeholder.insert(component.hostView);\r\n\r\n    component.instance.mineCount = this.gameOptions.mineCount;\r\n    component.instance.columnCount = this.gameOptions.columnCount;\r\n    component.instance.rowCount = this.gameOptions.rowCount;\r\n  }\n\n  setOptions(data: GameOptionsData) {\n    this.gameOptions = data;\r\n\r\n    this.newGameInstance();\r\n  }\n}\n","<div class=\"rounded-pill\">\r\n  <app-options [data]=\"gameOptions\" (optionsChangedEvent)=\"setOptions($event)\"></app-options>\r\n</div>\r\n\r\n<div class=\"gameBar\">\r\n  <ng-template #placeholder id=\"gameGrid\"></ng-template>\r\n</div>\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}