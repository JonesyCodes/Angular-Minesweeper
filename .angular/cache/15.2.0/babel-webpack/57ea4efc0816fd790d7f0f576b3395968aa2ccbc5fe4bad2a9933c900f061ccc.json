{"ast":null,"code":"import { ViewContainerRef } from '@angular/core';\nimport { GameStatusComponent } from '../game-status/game-status.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../options/options.component\";\nconst _c0 = [\"placeholder\"];\nfunction GameComponent_ng_template_24_Template(rf, ctx) {}\nexport class GameComponent {\n  constructor(resolver, injector) {\n    this.resolver = resolver;\n    this.injector = injector;\n    this.title = 'Game';\n    this.gameOptions = {\n      mineCount: 3,\n      rowCount: 5,\n      columnCount: 5\n    };\n  }\n  ngOnInit() {\n    this.newGameInstance();\n    this.displayMessage('Welcome to Angular Minesweeper!');\n  }\n  newGameInstance() {\n    this.placeholder.detach();\n    const componentFactory = this.resolver.resolveComponentFactory(GameStatusComponent);\n    const component = componentFactory.create(this.injector);\n    this.placeholder.insert(component.hostView);\n    component.instance.mineCount = this.gameOptions.mineCount;\n    component.instance.columnCount = this.gameOptions.columnCount;\n    component.instance.rowCount = this.gameOptions.rowCount;\n    component.instance.gameMessage.subscribe(message => {\n      this.displayMessage(message);\n    });\n  }\n  setOptions(data) {\n    this.gameOptions = data;\n    this.newGameInstance();\n  }\n  displayMessage(message) {\n    let messageBox = document.getElementById('message');\n    let dateTime = new Date();\n    messageBox.insertAdjacentHTML(\"beforeend\", `<b>${dateTime.toLocaleTimeString()}</b>&emsp;${message}<br/>`);\n  }\n  clearMessages() {\n    let messageBox = document.getElementById('message');\n    messageBox.innerHTML = \"\";\n  }\n}\nGameComponent.ɵfac = function GameComponent_Factory(t) {\n  return new (t || GameComponent)(i0.ɵɵdirectiveInject(i0.ComponentFactoryResolver), i0.ɵɵdirectiveInject(i0.Injector));\n};\nGameComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GameComponent,\n  selectors: [[\"app-game\"]],\n  viewQuery: function GameComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7, ViewContainerRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.placeholder = _t.first);\n    }\n  },\n  decls: 26,\n  vars: 1,\n  consts: [[1, \"container\", \"w-100\"], [1, \"row\", \"w-100\"], [1, \"col-xl-4\", \"p-0\"], [1, \"gameBar\"], [1, \"borderLegend\", \"px-3\"], [1, \"bi\", \"bi-gear-fill\"], [1, \"h-100\"], [3, \"data\", \"optionsChangedEvent\"], [1, \"col-xl-8\", \"p-0\"], [1, \"bi\", \"bi-chat-right-text-fill\"], [\"id\", \"message\"], [\"id\", \"clearMessages\", 1, \"btn\", \"btn-primary\", \"mt-auto\", 3, \"click\"], [1, \"bi\", \"bi-trash3\"], [1, \"col\", \"p-0\"], [1, \"bi\", \"bi-exclamation-triangle-fill\"], [\"id\", \"gameGrid\"], [\"placeholder\", \"\"]],\n  template: function GameComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"fieldset\", 3)(4, \"legend\", 4);\n      i0.ɵɵelement(5, \"i\", 5);\n      i0.ɵɵtext(6, \" Game Options \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"app-options\", 7);\n      i0.ɵɵlistener(\"optionsChangedEvent\", function GameComponent_Template_app_options_optionsChangedEvent_8_listener($event) {\n        return ctx.setOptions($event);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"fieldset\", 3)(11, \"legend\", 4);\n      i0.ɵɵelement(12, \"i\", 9);\n      i0.ɵɵtext(13, \" Messages \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"div\", 10);\n      i0.ɵɵelementStart(15, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function GameComponent_Template_button_click_15_listener() {\n        return ctx.clearMessages();\n      });\n      i0.ɵɵtext(16, \"Clear\\u00A0\");\n      i0.ɵɵelement(17, \"i\", 12);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(18, \"div\", 1)(19, \"div\", 13)(20, \"fieldset\", 3)(21, \"legend\", 4);\n      i0.ɵɵelement(22, \"i\", 14);\n      i0.ɵɵtext(23, \" Danger Zone \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(24, GameComponent_ng_template_24_Template, 0, 0, \"ng-template\", 15, 16, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"data\", ctx.gameOptions);\n    }\n  },\n  dependencies: [i1.OptionsComponent],\n  styles: [\".gameBar[_ngcontent-%COMP%] {\\r\\n  border: 2px inset gray;\\r\\n  border-radius: 20px;\\r\\n  background-color: rgba(202, 213, 250, 0.5);\\r\\n  margin: 1vw;\\r\\n  padding: 2vh;\\r\\n  height: 100%;\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  max-width: 95vw;\\r\\n  overflow-x:scroll;\\r\\n}\\r\\n\\r\\n.borderLegend[_ngcontent-%COMP%] {\\r\\n  float: none;\\r\\n  width: auto;\\r\\n  text-align:left;\\r\\n  font-weight: 600;\\r\\n}\\r\\n\\r\\n#message[_ngcontent-%COMP%] {\\r\\n  display: flow-root;\\r\\n  text-align: left;\\r\\n  line-height: 1.5;\\r\\n  min-height: 80%;\\r\\n  height: 16vh;\\r\\n  overflow-y: auto;\\r\\n  position: relative;\\r\\n  bottom: 0;\\r\\n}\\r\\n\\r\\n#clearMessages[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  align-self: flex-end;\\r\\n}\\r\\n\\r\\n.row[_ngcontent-%COMP%] {\\r\\n  margin: 1vw 0 1vw 0;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ2FtZS9nYW1lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLDBDQUEwQztFQUMxQyxXQUFXO0VBQ1gsWUFBWTtFQUNaLFlBQVk7RUFDWixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLGVBQWU7RUFDZixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsV0FBVztFQUNYLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsU0FBUztBQUNYOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG9CQUFvQjtBQUN0Qjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQiIsInNvdXJjZXNDb250ZW50IjpbIi5nYW1lQmFyIHtcclxuICBib3JkZXI6IDJweCBpbnNldCBncmF5O1xyXG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMDIsIDIxMywgMjUwLCAwLjUpO1xyXG4gIG1hcmdpbjogMXZ3O1xyXG4gIHBhZGRpbmc6IDJ2aDtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIG1heC13aWR0aDogOTV2dztcclxuICBvdmVyZmxvdy14OnNjcm9sbDtcclxufVxyXG5cclxuLmJvcmRlckxlZ2VuZCB7XHJcbiAgZmxvYXQ6IG5vbmU7XHJcbiAgd2lkdGg6IGF1dG87XHJcbiAgdGV4dC1hbGlnbjpsZWZ0O1xyXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbn1cclxuXHJcbiNtZXNzYWdlIHtcclxuICBkaXNwbGF5OiBmbG93LXJvb3Q7XHJcbiAgdGV4dC1hbGlnbjogbGVmdDtcclxuICBsaW5lLWhlaWdodDogMS41O1xyXG4gIG1pbi1oZWlnaHQ6IDgwJTtcclxuICBoZWlnaHQ6IDE2dmg7XHJcbiAgb3ZlcmZsb3cteTogYXV0bztcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgYm90dG9tOiAwO1xyXG59XHJcblxyXG4jY2xlYXJNZXNzYWdlcyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1zZWxmOiBmbGV4LWVuZDtcclxufVxyXG5cclxuLnJvdyB7XHJcbiAgbWFyZ2luOiAxdncgMCAxdncgMDtcclxufVxyXG5cclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAAA,SAA+BA,gBAAgB,QAA4C,eAAe;AAC1G,SAASC,mBAAmB,QAAQ,sCAAsC;;;;;AAQ1E,OAAM,MAAOC,aAAa;EAWxBC,YAAoBC,QAAkC,EAAUC,QAAkB;IAA9D,aAAQ,GAARD,QAAQ;IAAoC,aAAQ,GAARC,QAAQ;IAVxE,UAAK,GAAG,MAAM;IAEd,gBAAW,GAAoB;MAC7BC,SAAS,EAAE,CAAC;MACZC,QAAQ,EAAE,CAAC;MACXC,WAAW,EAAE;KACd;EAIqF;EAEtFC,QAAQ;IACN,IAAI,CAACC,eAAe,EAAE;IACtB,IAAI,CAACC,cAAc,CAAC,iCAAiC,CAAC;EACxD;EAEAD,eAAe;IACb,IAAI,CAACE,WAAW,CAACC,MAAM,EAAE;IACzB,MAAMC,gBAAgB,GAAG,IAAI,CAACV,QAAQ,CAACW,uBAAuB,CAACd,mBAAmB,CAAC;IACnF,MAAMe,SAAS,GAAGF,gBAAgB,CAACG,MAAM,CAAC,IAAI,CAACZ,QAAQ,CAAC;IACxD,IAAI,CAACO,WAAW,CAACM,MAAM,CAACF,SAAS,CAACG,QAAQ,CAAC;IAE3CH,SAAS,CAACI,QAAQ,CAACd,SAAS,GAAG,IAAI,CAACe,WAAW,CAACf,SAAS;IACzDU,SAAS,CAACI,QAAQ,CAACZ,WAAW,GAAG,IAAI,CAACa,WAAW,CAACb,WAAW;IAC7DQ,SAAS,CAACI,QAAQ,CAACb,QAAQ,GAAG,IAAI,CAACc,WAAW,CAACd,QAAQ;IACvDS,SAAS,CAACI,QAAQ,CAACE,WAAW,CAACC,SAAS,CAACC,OAAO,IAAG;MAAG,IAAI,CAACb,cAAc,CAACa,OAAO,CAAC;IAAC,CAAC,CAAC;EACvF;EAEAC,UAAU,CAACC,IAAqB;IAC9B,IAAI,CAACL,WAAW,GAAGK,IAAI;IAEvB,IAAI,CAAChB,eAAe,EAAE;EACxB;EAEAC,cAAc,CAACa,OAAe;IAC5B,IAAIG,UAAU,GAAGC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;IACnD,IAAIC,QAAQ,GAAG,IAAIC,IAAI,EAAE;IAEzBJ,UAAW,CAACK,kBAAkB,CAAC,WAAW,EAAE,MAAMF,QAAQ,CAACG,kBAAkB,EAAE,aAAaT,OAAO,OAAO,CAAC;EAC7G;EAEAU,aAAa;IACX,IAAIP,UAAU,GAAGC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;IACnDF,UAAW,CAACQ,SAAS,GAAG,EAAE;EAC5B;;AA9CWjC,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAkC;EAAAC;IAAA;6BASUrC,gBAAgB;;;;;;;;;;;;MClBpDsC,8BAA6B;MAOnBA,uBAA+B;MAACA,8BAClC;MAAAA,iBAAS;MACTA,8BAAmB;MACiBA;QAAA,OAAuBC,sBAAkB;MAAA,EAAC;MAACD,iBAAc;MAKjGA,8BAA0B;MAGpBA,wBAA0C;MAACA,2BAC7C;MAAAA,iBAAS;MACTA,2BAAwB;MACxBA,mCAAqF;MAA1BA;QAAA,OAASC,mBAAe;MAAA,EAAC;MAACD,4BAAW;MAAAA,yBAA4B;MAAAA,iBAAS;MAK3IA,+BAAuB;MAKfA,yBAA+C;MAACA,8BAClD;MAAAA,iBAAS;MACTA,gHAAsD;MACxDA,iBAAW;;;MAxBMA,eAAoB;MAApBA,sCAAoB","names":["ViewContainerRef","GameStatusComponent","GameComponent","constructor","resolver","injector","mineCount","rowCount","columnCount","ngOnInit","newGameInstance","displayMessage","placeholder","detach","componentFactory","resolveComponentFactory","component","create","insert","hostView","instance","gameOptions","gameMessage","subscribe","message","setOptions","data","messageBox","document","getElementById","dateTime","Date","insertAdjacentHTML","toLocaleTimeString","clearMessages","innerHTML","selectors","viewQuery","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\ReactTraining\\Workspaces\\P082 - Angular\\Minesweeper\\src\\app\\game\\game.component.ts","C:\\Users\\ReactTraining\\Workspaces\\P082 - Angular\\Minesweeper\\src\\app\\game\\game.component.html"],"sourcesContent":["import { Component, ViewChild, ViewContainerRef, ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { GameStatusComponent } from '../game-status/game-status.component';\r\nimport { GameOptionsData } from '../game-options-data';\r\n\r\n@Component({\r\n  selector: 'app-game',\r\n  templateUrl: './game.component.html',\r\n  styleUrls: ['./game.component.css']\r\n})\r\nexport class GameComponent {\r\n  title = 'Game'\r\n\r\n  gameOptions: GameOptionsData = {\r\n    mineCount: 3,\r\n    rowCount: 5,\r\n    columnCount: 5\r\n  }\r\n\r\n  @ViewChild('placeholder', { read: ViewContainerRef, static: true })\r\n  public placeholder!: ViewContainerRef;\r\n  constructor(private resolver: ComponentFactoryResolver, private injector: Injector) { }\r\n\r\n  ngOnInit() {\r\n    this.newGameInstance();\r\n    this.displayMessage('Welcome to Angular Minesweeper!');\r\n  }\r\n\r\n  newGameInstance() {\r\n    this.placeholder.detach();\r\n    const componentFactory = this.resolver.resolveComponentFactory(GameStatusComponent);\r\n    const component = componentFactory.create(this.injector);\r\n    this.placeholder.insert(component.hostView);\r\n\r\n    component.instance.mineCount = this.gameOptions.mineCount;\r\n    component.instance.columnCount = this.gameOptions.columnCount;\r\n    component.instance.rowCount = this.gameOptions.rowCount;\r\n    component.instance.gameMessage.subscribe(message => { this.displayMessage(message) });\r\n  }\r\n\r\n  setOptions(data: GameOptionsData) {\r\n    this.gameOptions = data;\r\n\r\n    this.newGameInstance();\r\n  }\r\n\r\n  displayMessage(message: string) {\r\n    let messageBox = document.getElementById('message');\r\n    let dateTime = new Date();\r\n\r\n    messageBox!.insertAdjacentHTML(\"beforeend\", `<b>${dateTime.toLocaleTimeString()}</b>&emsp;${message}<br/>`);\r\n  }\r\n\r\n  clearMessages() {\r\n    let messageBox = document.getElementById('message');\r\n    messageBox!.innerHTML = \"\";\r\n  }\r\n}\r\n","<div class=\"container w-100\">\r\n\r\n  <div class=\"row w-100\">\r\n\r\n    <div class=\"col-xl-4 p-0\">\r\n      <fieldset class=\"gameBar\">\r\n        <legend class=\"borderLegend px-3\">\r\n          <i class=\"bi bi-gear-fill\"></i> Game Options\r\n        </legend>\r\n        <div class=\"h-100\">\r\n          <app-options [data]=\"gameOptions\" (optionsChangedEvent)=\"setOptions($event)\"></app-options>\r\n        </div>\r\n      </fieldset>\r\n    </div>\r\n\r\n    <div class=\"col-xl-8 p-0\">\r\n      <fieldset class=\"gameBar\">\r\n        <legend class=\"borderLegend px-3\">\r\n          <i class=\"bi bi-chat-right-text-fill\"></i> Messages\r\n        </legend>\r\n        <div id=\"message\"></div>\r\n        <button id=\"clearMessages\" class=\"btn btn-primary mt-auto\" (click)=\"clearMessages()\">Clear&nbsp;<i class=\"bi bi-trash3\"></i></button>\r\n      </fieldset>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row w-100\">\r\n\r\n    <div class=\"col p-0\">\r\n      <fieldset class=\"gameBar\">\r\n        <legend class=\"borderLegend px-3\">\r\n          <i class=\"bi bi-exclamation-triangle-fill\"></i> Danger Zone\r\n        </legend>\r\n        <ng-template #placeholder id=\"gameGrid\"></ng-template>\r\n      </fieldset>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}