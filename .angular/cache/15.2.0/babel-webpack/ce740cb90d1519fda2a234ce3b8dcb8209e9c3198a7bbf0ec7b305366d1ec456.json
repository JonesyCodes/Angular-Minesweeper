{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild, ViewContainerRef } from '@angular/core';\nimport { GameStatusComponent } from '../game-status/game-status.component';\nlet GameComponent = class GameComponent {\n  constructor(resolver, injector) {\n    this.resolver = resolver;\n    this.injector = injector;\n    this.title = 'Game';\n    this.gameOptions = {\n      mineCount: 3,\n      rowCount: 5,\n      columnCount: 5\n    };\n  }\n  ngOnInit() {\n    this.newGameInstance();\n    this.displayMessage('Welcome to Angular Minesweeper');\n  }\n  newGameInstance() {\n    this.placeholder.detach();\n    const componentFactory = this.resolver.resolveComponentFactory(GameStatusComponent);\n    const component = componentFactory.create(this.injector);\n    this.placeholder.insert(component.hostView);\n    component.instance.mineCount = this.gameOptions.mineCount;\n    component.instance.columnCount = this.gameOptions.columnCount;\n    component.instance.rowCount = this.gameOptions.rowCount;\n    component.instance.gameMessage.subscribe(message => {\n      this.displayMessage(message);\n    });\n  }\n  setOptions(data) {\n    this.gameOptions = data;\n    this.newGameInstance();\n  }\n  displayMessage(message) {\n    let messageBox = document.getElementById('message');\n    let dateTime = new Date();\n    messageBox.append(`${dateTime.toLocaleTimeString()}: ${message}\\n`);\n  }\n};\n__decorate([ViewChild('placeholder', {\n  read: ViewContainerRef,\n  static: true\n})], GameComponent.prototype, \"placeholder\", void 0);\nGameComponent = __decorate([Component({\n  selector: 'app-game',\n  templateUrl: './game.component.html',\n  styleUrls: ['./game.component.css']\n})], GameComponent);\nexport { GameComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,SAAS,EAAEC,gBAAgB,QAA4C,eAAe;AAC1G,SAASC,mBAAmB,QAAQ,sCAAsC;AAQnE,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAWxBC,YAAoBC,QAAkC,EAAUC,QAAkB;IAA9D,aAAQ,GAARD,QAAQ;IAAoC,aAAQ,GAARC,QAAQ;IAVxE,UAAK,GAAG,MAAM;IAEd,gBAAW,GAAoB;MAC7BC,SAAS,EAAE,CAAC;MACZC,QAAQ,EAAE,CAAC;MACXC,WAAW,EAAE;KACd;EAIqF;EAEtFC,QAAQ;IACN,IAAI,CAACC,eAAe,EAAE;IACtB,IAAI,CAACC,cAAc,CAAC,gCAAgC,CAAC;EACvD;EAEAD,eAAe;IACb,IAAI,CAACE,WAAW,CAACC,MAAM,EAAE;IACzB,MAAMC,gBAAgB,GAAG,IAAI,CAACV,QAAQ,CAACW,uBAAuB,CAACd,mBAAmB,CAAC;IACnF,MAAMe,SAAS,GAAGF,gBAAgB,CAACG,MAAM,CAAC,IAAI,CAACZ,QAAQ,CAAC;IACxD,IAAI,CAACO,WAAW,CAACM,MAAM,CAACF,SAAS,CAACG,QAAQ,CAAC;IAE3CH,SAAS,CAACI,QAAQ,CAACd,SAAS,GAAG,IAAI,CAACe,WAAW,CAACf,SAAS;IACzDU,SAAS,CAACI,QAAQ,CAACZ,WAAW,GAAG,IAAI,CAACa,WAAW,CAACb,WAAW;IAC7DQ,SAAS,CAACI,QAAQ,CAACb,QAAQ,GAAG,IAAI,CAACc,WAAW,CAACd,QAAQ;IACvDS,SAAS,CAACI,QAAQ,CAACE,WAAW,CAACC,SAAS,CAACC,OAAO,IAAG;MAAG,IAAI,CAACb,cAAc,CAACa,OAAO,CAAC;IAAC,CAAC,CAAC;EACvF;EAEAC,UAAU,CAACC,IAAqB;IAC9B,IAAI,CAACL,WAAW,GAAGK,IAAI;IAEvB,IAAI,CAAChB,eAAe,EAAE;EACxB;EAEAC,cAAc,CAACa,OAAe;IAC5B,IAAIG,UAAU,GAAGC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;IACnD,IAAIC,QAAQ,GAAG,IAAIC,IAAI,EAAE;IAEzBJ,UAAW,CAACK,MAAM,CAAC,GAAGF,QAAQ,CAACG,kBAAkB,EAAE,KAAKT,OAAO,IAAI,CAAC;EACtE;CACD;AAhCCU,YADCnC,SAAS,CAAC,aAAa,EAAE;EAAEoC,IAAI,EAAEnC,gBAAgB;EAAEoC,MAAM,EAAE;AAAI,CAAE,CAAC,kDAC7B;AAV3BlC,aAAa,eALzBJ,SAAS,CAAC;EACTuC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACWrC,aAAa,CA0CzB;SA1CYA,aAAa","names":["Component","ViewChild","ViewContainerRef","GameStatusComponent","GameComponent","constructor","resolver","injector","mineCount","rowCount","columnCount","ngOnInit","newGameInstance","displayMessage","placeholder","detach","componentFactory","resolveComponentFactory","component","create","insert","hostView","instance","gameOptions","gameMessage","subscribe","message","setOptions","data","messageBox","document","getElementById","dateTime","Date","append","toLocaleTimeString","__decorate","read","static","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\ReactTraining\\Workspaces\\P082 - Angular\\Minesweeper\\src\\app\\game\\game.component.ts"],"sourcesContent":["import { Component, ViewChild, ViewContainerRef, ComponentFactoryResolver, Injector } from '@angular/core';\r\nimport { GameStatusComponent } from '../game-status/game-status.component';\r\nimport { GameOptionsData } from '../game-options-data';\r\n\r\n@Component({\r\n  selector: 'app-game',\r\n  templateUrl: './game.component.html',\r\n  styleUrls: ['./game.component.css']\r\n})\r\nexport class GameComponent {\r\n  title = 'Game'\r\n\r\n  gameOptions: GameOptionsData = {\r\n    mineCount: 3,\r\n    rowCount: 5,\r\n    columnCount: 5\r\n  }\r\n\r\n  @ViewChild('placeholder', { read: ViewContainerRef, static: true })\r\n  public placeholder!: ViewContainerRef;\r\n  constructor(private resolver: ComponentFactoryResolver, private injector: Injector) { }\r\n\r\n  ngOnInit() {\r\n    this.newGameInstance();\r\n    this.displayMessage('Welcome to Angular Minesweeper');\r\n  }\r\n\r\n  newGameInstance() {\r\n    this.placeholder.detach();\r\n    const componentFactory = this.resolver.resolveComponentFactory(GameStatusComponent);\r\n    const component = componentFactory.create(this.injector);\r\n    this.placeholder.insert(component.hostView);\r\n\r\n    component.instance.mineCount = this.gameOptions.mineCount;\r\n    component.instance.columnCount = this.gameOptions.columnCount;\r\n    component.instance.rowCount = this.gameOptions.rowCount;\r\n    component.instance.gameMessage.subscribe(message => { this.displayMessage(message) });\r\n  }\r\n\r\n  setOptions(data: GameOptionsData) {\r\n    this.gameOptions = data;\r\n\r\n    this.newGameInstance();\r\n  }\r\n\r\n  displayMessage(message: string) {\r\n    let messageBox = document.getElementById('message');\r\n    let dateTime = new Date();\r\n\r\n    messageBox!.append(`${dateTime.toLocaleTimeString()}: ${message}\\n`);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}